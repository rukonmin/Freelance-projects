# Предсказание статуса стартапа

## Задача:

Предстоит работать с псевдо-реальными (реальные данные, в которые добавлена синтетическая составляющая) данными о стартапах, функционировавших в период с 1970 по 2018 годы, и предсказать, какие из них закроются.

Метрика оценка качества предсказаний является `F1-Score`. `F1-мера` вычисляется на основе точности `p` и полноты `r`. Точность - это отношение `true positives (tp)` ко всем `predicted positives (tp + fp)`. Полнота это отношение `true positives` ко всем `actual positives (tp + fn)`.

Метрика `F1` является гармоническим средним между `Recall` и `Precision`.

Минимальное значение метрики `0.71186`.

Значение метрики на случайной модели `0.15270`.


## Заключение

Создание модели для предсказания статуса стартапа осуществлялось по данным полученным за период с 1970 по 2018 годы.

В ходе предобработки данных существенных проблем не выявлено, за исключением того, что
- статус стартапа имел дисбаланс в данных;
- категории имеют неявные дубликаты значений.

_Примечание: исправление неявных дубликатов не осуществлялось._

По результатам  исследовательского анализа были выявлены страны с наибольшим и наименьшим количеством стартапов, как с наиболее закрывающимися и с наиболее функционирующим стартапам.

Основной вывод, который можно сделать по результатам исследовательского анализа, это не равномерное распределение стартапов в течение годов по странам, т.е. чем больше год, тем больше стран вовлекаются в финансирование стартапов. Также можно отметить категории фавориты стартапов, в которые чаще всего вкладывались средства:

|Год основания стартапа| Часта категория закрывающихся стартапов| Часта категория функционирующих стартапов | Часта категория среди всех стартапов|
|:---:|:---:|:---:|:---:|
|1970|	Real Estate|	Real Estate|	Real Estate|
|1971|	Advertising|	Advertising|	Advertising|
|1972|	|Health Care|	Biotechnology|	Biotechnology|
|1973|	Semiconductors|	Web Hosting|	Web Hosting|
|1974|	Automotive|	Biotechnology|	Biotechnology|
|1975|	Games|	Manufacturing|	Games|
|1976|	Security|	Software|	Software|
|1977|	Biotechnology|	Software	Software|
|1978|	BPO Services|	Semiconductors|	Semiconductors|
|1979|	Software|	Software|	Software
|1980|	Biotechnology|	Biotechnology|	Biotechnology|
|1981|	Biotechnology|	Software|	Software|
|1982|	Medical|	Software|	Software|
|1983|	Biotechnology|	Biotechnology|	Biotechnology|
|1984|	Accounting|	Software|	Software|
|1985|	Manufacturing|	Software|	Software|
|1986|	Biotechnology|	Software|	Software|
|1987|	Risk Management|	Biotechnology|	Biotechnology|
|1988|	Software|	Software|	Software|
|1989|	Biotechnology|	Software|	Software|
|1990|	Web Tools|	Software|	Software|
|1991|	Finance|	Software|	Software|
|1992|	Manufacturing|	Software|	Software|
|1993|	Biotechnology|	Software|	Software|
|1994|	Clean Technology|	Software|	Software|
|1995|	Software|	Software|	Software|
|1996|	Information Technology|	Software|	Software|
|1997|	Biotechnology|	Software|	Software|
|1998|	Software|	Software|	Software|
|1999|	Software|	Software|	Software|
|2000|	Services|	Software|	Software|
|2001|	Software|	Software|	Software|
|2002|	Software|	Software|	Software|
|2003|	Software|	Software|	Software|
|2004|	Software|	Software|	Software|
|2005|	Software|	Software|	Software|
|2006|	Software|	Software|	Software|
|2007|	Curated Web|	Software|	Software|
|2008|	Curated Web|	Software|	Software|
|2009|	Curated Web|	Software|	Software|
|2010|	Mobile|	Software|	Software|
|2011|	Mobile|	Software|	Software|
|2012|	E-Commerce|	Software|	Software|
|2013|	E-Commerce|	Software|	Software|
|2014|	Services|	Software|	Software|
|2015|	Services|	Apps|	Apps|
|2016|	Delivery|	Biotechnology|	Biotechnology|

Стоит отметить, что в данных имеется зависимость между данными: например, все категориальные данные связанные со странами, регионами, штатами и городами имеют весьма существенную корреляцию данных.

Между датой основания и длительностью стартапа имеется линейная зависимость. Причем точки, которые выходят за линию являются закрытыми стартапами. Данное свойство использовалось для аналитического решения.

В связи с этим в качестве основных параметров для моделей предсказания `status` использовать:
- `country_code`;
- `funding_total_usd`;
- `funding_rounds`;
- `founded_at`;
- `founded_at_year`;
- `first_funding_at`;
- `last_funding_at`;
- `funding_at_dt`;
- `lifetime`.

Для упрощения работы с категориальными данными категория стартапа была исключена из большинства моделей.

Результаты метрики F1 для моделей:
- Лучшая F1 метрика для модели DecisionTreeClassifier: 0.9974434954047933
- Лучшая F1 метрика для модели SVC: 0.9976291172061608
- Лучшая F1 метрика для модели LogisticRegression: 0.9975379924224462
- Лучшая F1 метрика для модели KNeighborsClassifier: 0.9919744146077673
- Лучшая F1 метрика для модели Catboost: 0.9972241135
- Лучшая F1 метрика для модели catboost (с расширенным набором данных): 0.9983581436

Примечание: аналитическое решение имеет по оценке kaggle значение метрики: 1.00.

_Примечание: для простоты дальнейшего анализа и ускорения результатов работы за лучшую модель выберем catboost. В ходе увеличения итераций удалось разогнать итоговую метрику выше 0.98349._

_Примечание: для других моделей на тестовых данных (на kaggle) все метрики показывали высокий результат 0.95+_
- DecisionTreeClassifier - 0.97217;
- SVC - 0.96296;
- LogisticRegression - 0.95238;
- catboost (с расширенным набором данных) - 0.97844
- catboost (с расширенным набором данных, комплексное предсказание) - 0.97844

Примечание: catboost (с расширенным набором данных) это модель обученная на расширенных данных, полученных путем разворачивания категорий в таблицу в которой в колонке категория имеется одна категория, т.е. одной компании соответствовало несколько строк, но с разными категориями. Далее развернутые данные добавлялись к существующему массиву данных.

Примечание: catboost (с расширенным набором данных, комплексное предсказание) это модель обученная на расширенных данных (см. catboost (с расширенным набором данных)). но результат предсказания делался по развернутым данным, т.е. категория разворачивалась, после чего делалось предсказание. в случае если для одной компании было несколько предсказания, то для них осуществлялось усреднение по максимальному числу статусов.

В ходе анализа лучше модели выявлены следующие важные признаки влияющие на предсказание статуса стартапа:
- длительность функционирования стартапа;
- дата основания стартапа;
- код страны.

В качестве дальнейших действий по улучшению моделей рекомендуется:
- исключить зависимость в данных между датой основания и функционирования стартапа, например, за счет добавления дополнительных данных. Например, для функционирующего стартапа можно указать несколько строк с разной длительностью функционирования, т.к. стартап функционировал 3 года, то оже функционировал и 2 года и меньше. Добавление таких данных может помочь разрушить зависимость между данными;
- убрать не явные дублирования в данных категорий;
- использовать методы борьбы с дисбалансом в данных путем генерирования дополнительных данных и т.п.;
- для лучшей модели можно осуществить оптимизацию гиперпараметров.
- исключить из модели параметр `lifetime` и построить модель на собственных характеристиках стартапа.